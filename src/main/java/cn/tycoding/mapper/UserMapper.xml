<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.tycoding.mapper.UserMapper">

    <!-- 用户登录的方法 -->
    <select id="login" parameterType="cn.tycoding.pojo.User" resultType="User">
        select * from tb_user where username = #{username}
    </select>

    <!-- 保存上传文件路径 -->
    <select id="saveUpload" parameterType="java.lang.String" resultType="object">
        INSERT INTO upload (id,path) VALUE(NULL,#{path})
    </select>
    <select id="findAll" resultType="cn.tycoding.pojo.User">
        select * from tb_user where id = 2
    </select>
    <update id="updateForBalance">
        update tb_user set balance = balance + #{balance},version = version +1 where id =2 and version = #{version}
    </update>


</mapper>